<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Match Details</title>
  <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;700&display=swap" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Urbanist', sans-serif;
      margin: 0;
      background: #f4f6f8;
      color: #333;
    }

    /* HEADER */
    header {
      background: linear-gradient(135deg, #0f5132, #198754);
      color: #fff;
      padding: 15px;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .logo-ring {
      width: 60px;
      height: 60px;
      background: #fff;
      border-radius: 50%;
      border: 4px solid #ffd700;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.3), 0 4px 8px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .logo-ring img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
    }
    header h1 {
      font-size: 1.8rem;
      margin: 0;
    }

    /* CONTAINER */
    .container {
      max-width: 900px;
      margin: 20px auto;
      background: #fff;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.1);
    }

    /* MATCH HEADER */
    .header {
      text-align: center;
      margin-bottom: 25px;
    }
    .header h2 {
      margin: 0;
      font-size: 1.6rem;
      color: #0f5132;
    }
    .header p {
      margin: 5px 0 0;
      color: #555;
      font-weight: 500;
    }

    /* TEAMS & SCORE */
    .teams {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }
    .team {
      flex: 1;
      text-align: center;
    }
    .team img {
      height: 70px;
      width: 70px;
      object-fit: contain;
      border-radius: 50%;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    .score {
      font-size: 2.5em;
      font-weight: bold;
      color: #0f5132;
    }

    /* INFO */
    .info {
      margin-top: 15px;
      padding: 10px;
      background: #f8f9fa;
      border-radius: 8px;
      text-align: center;
      font-size: 1rem;
      color: #555;
    }

    /* SECTION HEADERS */
    h3 {
      margin: 20px 0 10px;
      padding-bottom: 5px;
      border-bottom: 2px solid #198754;
      color: #0f5132;
    }

    /* GRID SECTIONS */
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .stats .grid div,
    .players .grid div,
    .scorers .grid div {
      background: #f9f9f9;
      padding: 8px;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    /* RESPONSIVE */
    @media(max-width: 600px) {
      .teams {
        flex-direction: column;
      }
      .score {
        margin: 20px 0;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo-ring">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSWYf5IMmgVS0OFoTZfrZwDjIsf3orTinmOzw&s" alt="League Logo"/>
    </div>
    <h1>Match Details</h1>
  </header>

  <div class="container">
    <div class="header">
      <h2 id="competition"></h2>
      <p id="matchType"></p>
    </div>
    <div class="teams">
      <div class="team">
        <img id="logoA" alt="Team A Logo"/><br/>
        <strong id="teamA"></strong>
      </div>
      <div class="score" id="score"></div>
      <div class="team">
        <img id="logoB" alt="Team B Logo"/><br/>
        <strong id="teamB"></strong>
      </div>
    </div>

    <div class="info">
      <span id="dateTime"></span> | <span id="venue"></span>
    </div>

    <div class="stats">
      <h3>Match Statistics</h3>
      <div class="grid" id="statsGrid"></div>
    </div>

    <div class="players">
      <h3>Lineups</h3>
      <div class="grid">
        <div>
          <strong id="teamAname"></strong><br/>
          <p id="playersA"></p>
        </div>
        <div>
          <strong id="teamBname"></strong><br/>
          <p id="playersB"></p>
        </div>
      </div>
    </div>

    <div class="scorers">
      <h3>Scorers</h3>
      <div class="grid">
        <div><strong id="teamAsc"></strong><br/><span id="scorersA"></span></div>
        <div><strong id="teamBsc"></strong><br/><span id="scorersB"></span></div>
      </div>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBK5UM0n8-GLvleW7l6B8Hi-_WuC64QA4U",
      authDomain: "scores-b25a7.firebaseapp.com",
      databaseURL: "https://scores-b25a7-default-rtdb.firebaseio.com",
      projectId: "scores-b25a7",
      storageBucket: "scores-b25a7.appspot.com",
      messagingSenderId: "1001957936318",
      appId: "1:1001957936318:web:90fdfb367f82f6a3d8e2ef"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const params = new URLSearchParams(window.location.search);
    const matchId = params.get("id");

    if (matchId) {
      db.ref("matches/" + matchId).once("value").then(snapshot => {
        const m = snapshot.val();
        if (!m) {
          document.body.innerHTML = "<h2 style='text-align:center;'>Match not found.</h2>";
          return;
        }

        document.getElementById("competition").innerText = m.competition;
        document.getElementById("matchType").innerText = m.type;
        document.getElementById("teamA").innerText = m.teamA;
        document.getElementById("teamB").innerText = m.teamB;
        document.getElementById("logoA").src = m.logoA;
        document.getElementById("logoB").src = m.logoB;
        document.getElementById("score").innerText = `${m.scoreA} - ${m.scoreB}`;
        document.getElementById("dateTime").innerText = `${m.date} | ${m.time}`;
        document.getElementById("venue").innerText = `Venue: ${m.venue}`;

        const stats = m.stats || {};
        const statsGrid = document.getElementById("statsGrid");
        const statMap = {
          "Possession": stats.possession,
          "Shots": stats.shots,
          "Corners": stats.corners,
          "Fouls": stats.fouls,
          "Yellow Cards": stats.yellow,
          "Red Cards": stats.red,
          "Offsides": stats.offsides,
          "Saves": stats.saves
        };
        for (let key in statMap) {
          const val = statMap[key] || "N/A";
          const statDiv = document.createElement("div");
          statDiv.textContent = `${key}: ${val}`;
          statsGrid.appendChild(statDiv);
        }

        document.getElementById("teamAname").innerText = m.teamA;
        document.getElementById("teamBname").innerText = m.teamB;
        document.getElementById("playersA").innerText = m.playersA || "N/A";
        document.getElementById("playersB").innerText = m.playersB || "N/A";

        document.getElementById("teamAsc").innerText = m.teamA;
        document.getElementById("teamBsc").innerText = m.teamB;
        document.getElementById("scorersA").innerText = m.scorersA || "None";
        document.getElementById("scorersB").innerText = m.scorersB || "None";
      });
    } else {
      document.body.innerHTML = "<h2 style='text-align:center;'>No match ID provided.</h2>";
    }
  </script>
</body>
</html>

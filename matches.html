<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Match Details</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: #fff;
      border-radius: 10px;
      padding: 30px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .header {
      text-align: center;
      margin-bottom: 30px;
    }
    .teams {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .team {
      flex: 1;
      text-align: center;
    }
    .team img {
      height: 60px;
    }
    .score {
      font-size: 2.5em;
      font-weight: bold;
    }
    .info, .stats, .players, .scorers {
      margin-top: 20px;
    }
    .info span {
      display: block;
      margin: 5px 0;
    }
    h3 {
      margin-bottom: 10px;
      border-bottom: 1px solid #ccc;
      padding-bottom: 5px;
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .players .grid, .scorers .grid {
      grid-template-columns: 1fr 1fr;
    }
    @media(max-width: 600px){
      .teams {
        flex-direction: column;
      }
      .score {
        margin: 20px 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h2 id="competition"></h2>
      <p id="matchType"></p>
    </div>
    <div class="teams">
      <div class="team">
        <img id="logoA" alt="Team A Logo"/><br/>
        <strong id="teamA"></strong>
      </div>
      <div class="score" id="score"></div>
      <div class="team">
        <img id="logoB" alt="Team B Logo"/><br/>
        <strong id="teamB"></strong>
      </div>
    </div>

    <div class="info">
      <span id="dateTime"></span>
      <span id="venue"></span>
    </div>

    <div class="stats">
      <h3>Match Statistics</h3>
      <div class="grid" id="statsGrid"></div>
    </div>

    <div class="players">
      <h3>Lineups</h3>
      <div class="grid">
        <div>
          <strong id="teamAname"></strong><br/>
          <p id="playersA"></p>
        </div>
        <div>
          <strong id="teamBname"></strong><br/>
          <p id="playersB"></p>
        </div>
      </div>
    </div>

    <div class="scorers">
      <h3>Scorers</h3>
      <div class="grid">
        <div><strong id="teamAsc"></strong><br/><span id="scorersA"></span></div>
        <div><strong id="teamBsc"></strong><br/><span id="scorersB"></span></div>
      </div>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBK5UM0n8-GLvleW7l6B8Hi-_WuC64QA4U",
      authDomain: "scores-b25a7.firebaseapp.com",
      databaseURL: "https://scores-b25a7-default-rtdb.firebaseio.com",
      projectId: "scores-b25a7",
      storageBucket: "scores-b25a7.appspot.com",
      messagingSenderId: "1001957936318",
      appId: "1:1001957936318:web:90fdfb367f82f6a3d8e2ef"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const params = new URLSearchParams(window.location.search);
    const matchId = params.get("id");

    if (matchId) {
      db.ref("matches/" + matchId).once("value").then(snapshot => {
        const m = snapshot.val();
        if (!m) {
          document.body.innerHTML = "<h2 style='text-align:center;'>Match not found.</h2>";
          return;
        }

        document.getElementById("competition").innerText = m.competition;
        document.getElementById("matchType").innerText = m.type;
        document.getElementById("teamA").innerText = m.teamA;
        document.getElementById("teamB").innerText = m.teamB;
        document.getElementById("logoA").src = m.logoA;
        document.getElementById("logoB").src = m.logoB;
        document.getElementById("score").innerText = `${m.scoreA} - ${m.scoreB}`;
        document.getElementById("dateTime").innerText = `${m.date} | ${m.time}`;
        document.getElementById("venue").innerText = `Venue: ${m.venue}`;

        const stats = m.stats || {};
        const statsGrid = document.getElementById("statsGrid");
        const statMap = {
          "Possession": stats.possession,
          "Shots": stats.shots,
          "Corners": stats.corners,
          "Fouls": stats.fouls,
          "Yellow Cards": stats.yellow,
          "Red Cards": stats.red,
          "Offsides": stats.offsides,
          "Saves": stats.saves
        };
        for (let key in statMap) {
          const val = statMap[key] || "N/A";
          const statDiv = document.createElement("div");
          statDiv.textContent = `${key}: ${val}`;
          statsGrid.appendChild(statDiv);
        }

        document.getElementById("teamAname").innerText = m.teamA;
        document.getElementById("teamBname").innerText = m.teamB;
        document.getElementById("playersA").innerText = m.playersA || "N/A";
        document.getElementById("playersB").innerText = m.playersB || "N/A";

        document.getElementById("teamAsc").innerText = m.teamA;
        document.getElementById("teamBsc").innerText = m.teamB;
        document.getElementById("scorersA").innerText = m.scorersA || "None";
        document.getElementById("scorersB").innerText = m.scorersB || "None";
      });
    } else {
      document.body.innerHTML = "<h2 style='text-align:center;'>No match ID provided.</h2>";
    }
  </script>
</body>
</html>
